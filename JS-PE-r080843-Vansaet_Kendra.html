<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <title>Anorac Services</title>
</head>

<style>
    .navbar {
        background-image: linear-gradient(141deg, #2d2d2d 0%, #9fb8ad 51%, #82e0c2 75%);
        margin-bottom: 5px;
    }

    #border {
        padding: 1%;
        border: 1px solid grey;
        box-shadow: darkgrey 1px 3px;
    }
</style>

<body>

    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Anorac Services</a>
        </div>
    </nav>

    <!-- main en div mag beide -->
    <main class="container" id="border">

        <h1>Registreer</h1>
        <p class="lead">Meld je aan bij Anorac Services, wij beschermen jouw software tegen malware!</p>

        <div class="row">
            <div class="col-md-8">
                <!-- te samen max 12 hebben -->

                <form name="formulier">

                    <div class="row">

                        <!-- Voornaam -->
                        <div class="col-md-4">
                            <label for="inputVoornaam" class="form-label">Voornaam</label>
                            <input type="text" placeholder="Uw voornaam" class="form-control" id="inputVoornaam">
                        </div>

                        <!-- Achternaam -->
                        <div class="col-md-4">
                            <label for="inputNaam" class="form-label">Naam</label>
                            <input type="text" placeholder="Uw naam" class="form-control" id="inputNaam">
                        </div>

                    </div>

                    <div class="row">

                        <!-- Gebruikersnaam -->
                        <div class="col-md-4 mt-4">
                            <label for="inputGebruikersnaam" class="form-label">Gebruikersnaam</label>
                            <div class="input-group mb-2 mr-sm-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">@</div>
                                </div>
                                <input type="text" placeholder="u11236" class="form-control" id="inputGebruikersnaam">
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="col-md-4 mt-4">
                            <label for="inputEmail" class="form-label">Email</label>
                            <input type="email" placeholder="mail@example.com" class="form-control" id="inputEmail">
                        </div>

                    </div>

                    <div class="row">

                        <!-- Wachtwoord -->
                        <div class="col-md-4 mt-4">
                            <label for="inputWachtwoord" class="form-label">Wachtwoord</label>
                            <input type="password" class="form-control" id="inputWachtwoord">
                            <small id="wachtwoordBijschrift" class="form-text text-muted">Je wachtwoord moet minstens 8
                                tekens lang zijn.</small>
                        </div>

                        <!-- Herhaal Wachtwoord -->
                        <div class="col-md-4 mt-4">
                            <label for="inputHerhaalWachtwoord" class="form-label">Herhaal Wachtwoord</label>
                            <input type="password" class="form-control" id="inputHerhaalWachtwoord">
                        </div>

                    </div>

                    <div class="row">

                        <!-- Adres -->
                        <div class="col-md-8 mt-4">
                            <label for="inputAdres" class="form-label">Adres</label>
                            <input type="text" placeholder="Uw adres en huisnummer" class="form-control"
                                id="inputAdres">
                        </div>

                    </div>

                    <div class="row">

                        <!-- Land -->
                        <div class="col-md-3 mt-4">
                            <label for="inputLand" class="form-label">Land</label>
                            <select name="landen" class="form-control" id="inputLand">
                                <option value="none">Kies een land</option>
                                <option value="Afganistan">Afghanistan</option>
                                <option value="Albania">Albania</option>
                                <option value="Algeria">Algeria</option>
                                <option value="American Samoa">American Samoa</option>
                                <option value="Andorra">Andorra</option>
                                <option value="Angola">Angola</option>
                                <option value="Anguilla">Anguilla</option>
                                <option value="Antigua & Barbuda">Antigua & Barbuda</option>
                                <option value="Argentina">Argentina</option>
                                <option value="Armenia">Armenia</option>
                                <option value="Aruba">Aruba</option>
                                <option value="Australia">Australia</option>
                                <option value="Austria">Austria</option>
                                <option value="Azerbaijan">Azerbaijan</option>
                                <option value="Bahamas">Bahamas</option>
                                <option value="Bahrain">Bahrain</option>
                                <option value="Bangladesh">Bangladesh</option>
                                <option value="Barbados">Barbados</option>
                                <option value="Belarus">Belarus</option>
                                <option value="Belgium">Belgium</option>
                            </select>
                        </div>

                        <!-- Provincie -->
                        <div class="col-md-3 mt-4">
                            <label for="inputProvincie" class="form-label">Provincie</label>
                            <select name="provincies" class="form-control" id="inputProvincie">
                                <option value="none">Kies een provincie</option>
                                <option value="Antwerpen">Antwerpen</option>
                                <option value="Vlaams-Brabant">Henegouwen</option>
                                <option value="Vlaams-Brabant">Limburg</option>
                                <option value="Oost-Vlaanderen">Luik</option>
                                <option value="West-Vlaanderen">Luxemburg</option>
                                <option value="Limburg">Namen</option>
                                <option value="Vlaams-Brabant">Oost-Vlaanderen</option>
                                <option value="Vlaams-Brabant">Vlaams-Brabant</option>
                                <option value="Vlaams-Brabant">Waals-Brabant</option>
                                <option value="Vlaams-Brabant">West-Vlaanderen</option>
                            </select>
                        </div>

                        <!-- Postcode -->
                        <div class="col-md-2 mt-4">
                            <label for="inputPostcode" class="form-label">Postcode</label>
                            <input type="number" class="form-control" id="inputPostcode">
                        </div>
                    </div>

                    <!-- Lijn om op te splitsen -->
                    <div class="row">
                        <div class="col-md-8 mt-4">
                            <hr>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-5 mt-4">
                            <h4>Hou me op de hoogte</h4>

                            <!-- Checkbox Nieuwsbrief -->
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="nieuwsbriefCheck">
                                <label class="form-check-label" for="nieuwsbriefCheck">Inschrijven voor onze
                                    nieuwsbrief</label>
                            </div>

                            <!-- Checkbox Algemene Voorwaarden -->
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="voorwaardenCheck">
                                <label class="form-check-label" for="voorwaardenCheck">Ik ga akkoord met de algemene
                                    voorwaarden.</label>
                            </div>
                        </div>

                        <div class="col-md-3 mt-4">
                            <h4>Betaling</h4>

                            <!-- Banking App -->
                            <div class="form-check">
                                <input type="radio" value="Banking App" class="form-check-input"
                                    name="betalingRadiobtns" id="bankappRadiobtn">
                                <label class="form-check-label" for="bankcppRadio">Banking App</label>
                            </div>

                            <!-- Overschrijving -->
                            <div class="form-check">
                                <input type="radio" value="Overschrijving" class="form-check-input"
                                    name="betalingRadiobtns" id="overschrijvingRadiobtn">
                                <label class="form-check-label" for="bankcppRadio">Overschrijving</label>
                            </div>

                            <!-- Visa Card -->
                            <div class="form-check">
                                <input type="radio" value="Visa Card" class="form-check-input" name="betalingRadiobtns"
                                    id="visacardRadiobtn">
                                <label class="form-check-label" for="bankcppRadio">Visa Card</label>
                            </div>

                            <!-- PayPal -->
                            <div class="form-check">
                                <input type="radio" value="PayPal" class="form-check-input" name="betalingRadiobtns"
                                    id="paypalRadiobtn">
                                <label class="form-check-label" for="bankcppRadio">PayPal</label>
                            </div>
                        </div>
                    </div>

                    <!-- Lijn om op te splitsen -->
                    <div class="row">
                        <div class="col-md-8 mt-4">
                            <hr>
                        </div>
                    </div>

                    <div class="row">
                        <!-- Magic button -->
                        <div class="col-md-8 mt-4 d-grid gap-2">
                            <!-- recheck positioning, https://getbootstrap.com/docs/5.0/components/buttons/ -->
                            <button type="button" class="btn btn-primary btn-lg" id="magicKnop"
                                onclick="validateForm()">Wave your magic wand</button>
                        </div>
                    </div>
                </form>
            </div>
            <!-- Alert Boxes -->
            <!-- https://getbootstrap.com/docs/4.0/components/alerts/ -->
            <div class="col-md-4">
                <div class="col">

                    <!-- Danger Rood -->
                    <div class="alert alert-danger" role="alert" id="dangerAlert">
                        <h4>Yikes, errors..</h4>
                        <p id="errors"></p>
                    </div>

                    <!-- Success Groen -->
                    <div class="alert alert-success" role="alert" id="successAlert">
                        <h4>Goed gedaan!</h4>
                        <p id="success">Aww yeah, je werd geregistreerd.</p>
                    </div>

                    <!-- Info Blauw -->
                    <div class="alert alert-info" role="alert" id="infoAlert">
                        <h4>Betalingswijze</h4>
                        <p id="info"></p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
    </script>

    <script>
        // Hiden van de alerts
        // https://stackoverflow.com/questions/38621130/how-to-hide-bootstrap-alert-box-when-no-message
        $("#dangerAlert").hide();
        $("#successAlert").hide();
        $("#infoAlert").hide();

        // Functie om validaties uit te voeren
        function validateForm() {
            // Array van errors aanmaken
            let errors = [];

            // Erros leegmaken
            document.getElementById("errors").innerHTML = "";

            let voornaam = document.getElementById("inputVoornaam").value;
            let naam = document.getElementById("inputNaam").value;
            let gebruikersnaam = document.getElementById("inputGebruikersnaam").value;
            let email = document.getElementById("inputEmail").value;
            let wachtwoord = document.getElementById("inputWachtwoord").value;
            let herhaalwachtwoord = document.getElementById("inputHerhaalWachtwoord").value;
            let adres = document.getElementById("inputAdres").value;
            let land = document.getElementById("inputLand");
            let provincie = document.getElementById("inputProvincie");
            let postcode = parseInt(document.getElementById("inputPostcode"));
            let nieuwsbrief = document.getElementById("nieuwsbriefCheck");
            let algemenevoorwaarden = document.getElementById("voorwaardenCheck");
            let betaling = document.getElementById("betalingRadiobtns");

            // Functie om op lege velden te controleren
            function checkEmptyField(veld, melding) {
                if (veld == null || veld == "") {
                    return errors.push(melding)
                } else {
                    return true
                }
            }

            // Functie checkEmptyField oproepen om op lege velden te controleren
            checkEmptyField(voornaam, "Het veld voornaam is vereist.");
            checkEmptyField(naam, "Het veld naam is vereist.");
            checkEmptyField(gebruikersnaam, "Het veld gebruikersnaam is vereist.");
            checkEmptyField(wachtwoord, "Het veld wachtwoord is vereist.");
            checkEmptyField(herhaalwachtwoord, "Het veld herhaal wachtwoord is vereist");
            checkEmptyField(adres, "Het veld adres is vereist.");
            checkEmptyField(land, "Het veld land is vereist.");
            checkEmptyField(provincie, "Het veld provincie is vereist.");
            checkEmptyField(postcode, "Het veld postcode is vereist"); // problemen

            // Functie aanmaken om email te valideren
            // https://www.w3resource.com/javascript/form/email-validation.php
            // https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript
            // https://ui.dev/validate-email-address-javascript/
            function validateEmail(emailadres) {
                emailadres = email; // overbodig?
                if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(emailadres)) {
                    return true
                } else {
                    return errors.push("E-mailadres is niet correct.")
                }
            }

            // Valideren van email
            validateEmail(email);

            // Functie aanmaken om wachtwoorden te valideren
            // https://www.geeksforgeeks.org/password-matching-using-javascript/
            function validatePassword(password1, password2) {
                if (password1.length >= 8 && password2.length >= 8) {
                    if (pasword1 != password2) {
                        return errors.push("Je wachtwoorden komen niet overeen.");
                    } else {
                        return true;
                    }
                } else {
                    return errors.push("Je wachtwoord moet langer dan 7 karakters zijn.");
                }
            }

            // Valideren van het aantal karakters en gelijkheid van wachtwoorden
            validatePassword(wachtwoord, herhaalwachtwoord);

            // Functie aanmaken voor postcode validaties
            function checkPC(veld) {
                if (!veld) {
                    errors.push("Het veld postcode is vereist."); // problemen
                } else {
                    if (veld > 9999 || veld < 1000) {
                        errors.push("De waarde van postcode moet tussen de 1000 en 9999 liggen.");
                    }
                }
            }

            // Oproepen van de functie checkPC om nodige validaties uit te voeren
            checkPC(postcode);

            // Functie aanmaken om na te gaan of de algemene voorwaarden zijn geselecteerd
            // https://www.w3schools.com/jsref/prop_checkbox_checked.asp
            function checkAlgemeneVoorwaarden() {
                if (algemenevoorwaarden.checked == true) {
                    return true
                } else {
                    return errors.push("Je moet akkoord gaan met de algemene voorwaarden.");
                }
            }

            // https://www.w3schools.com/jsref/prop_radio_checked.asp
            function validatePayment(veld) {
                for (let i = 0; i < veld.length; i++) {
                    if (veld[i].checked == true) {
                        return document.getElementById("infoAlert").innerHTML = "Je betalingswijze is " + veld[i].value;
                    }
                }
            }

            // Functie oproepen om na te gaan of de algemene voorwaarden zijn geaccepteerd
            checkAlgemeneVoorwaarden();

            // Alerts tonen
            if (errors.length > 0) {
                for (let i = 0; i < errors.length; i++) {
                    document.getElementById("errors").innerHTML += errors[i] + "<br/>";
                }
                $("#dangerAlert").show();
            } else {
                $("#successAlert").show();
                $("#infoAlert").show();
            }

            function writeError() {
                if (errors.length > 0) {
                    for (let i = 0; i < errors.length; i++) {
                        document.getElementById("errors").innerHTML += errors[i] + "<br/>";
                    }
                }
            }
        }
        /*
        To-do:
        Gebruiksnaam nakijken
        Domein nakijken
        Geef array errors weer
        */
    </script>
</body>

</html>